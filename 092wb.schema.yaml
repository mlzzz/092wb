# Rime schema settings
# encoding: utf-8
schema:
  schema_id: 092wb
  name: "092äº”ç¬”"
  version: "2024.04.07"
  author:
    - å‘æ˜äºº è¡Œèµ°çš„é£æ™¯
  description: |
    092äº”ç¬”
  dependencies:   # ä¾èµ–
    - core        # å¼•å…¥è‡ªå®šä¹‰è¿‡æ»¤
    - py          # åæŸ¥
    - wb_spelling # å¼•å…¥æ‹†åˆ†


# reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚
switches:
  - name: ascii_mode
    reset: 0
#    states: [ ä¸­, ï¼¡ ]
  - name: zh_trad
    reset: 0
#    states: [ ç®€,ç¹ ]
  - name: new_spelling
    reset: 0
#    states: [ æ‹†,éš ]  
  - name: extended_char     # coreè¿‡æ»¤å¼€å…³
    reset: 1                          
#    states: [ æ‰©, å¸¸] 
  - name: new_hide_pinyin   # æ˜¾ç¤ºè¯»éŸ³
    reset: 1
#    states: [ éŸ³, éš ]
  - name: ascii_punct
    reset: 0
#    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: full_shape        #é»˜è®¤æ˜¯åŠè§’æ¨¡å¼
    reset: 0
#    states: [ åŠ, å…¨ ]
  - name: emoji           # emoji
    reset: 0
#    states: [ ğŸ˜”, ğŸ˜€ ] 
engine:
  filters:
    - lua_filter@core                          # åŠ å…¥æ­¤è¿‡æ»¤ï¼Œå¿…é¡»æ”¾åˆ°æ»¤é•œæœ€ä¸Šé¢
    - simplifier@emoji                         # Emoji
    - lua_filter@new_spelling@spelling         # æ‹†åˆ†æ»¤é•œ
    - simplifier@traditionalize                # ç®€ç¹åˆ‡æ¢
    - uniquifier
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator             # åæŸ¥
    - table_translator
    - history_translator@repeat_last_input  # ä¸Šå±æœ€åä¸€æ¬¡è¾“å…¥
    - lua_translator@helper                 # å¸®åŠ©
    - lua_translator@date_translator        # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
    - lua_translator@lunar                  # å†œå†
    - lua_translator@unicode                # Unicode
    - lua_translator@number_translator      # æ•°å­—ã€é‡‘é¢å¤§å†™
    - lua_translator@force_gc               # æš´åŠ› GC
speller:
  auto_select: true               # è‡ªåŠ¨ä¸Šå±
  auto_clear: max_length          # æœ€å¤§ç é•¿æ¸…å±
  delimiter: "`"                  # ä¸Šå±æ—¶çš„éŸ³èŠ‚é—´åˆ†éŸ³ç¬¦
  max_code_length: 4              # æœ€å¤§ç é•¿

# ä¸»ç¿»è¯‘å™¨
translator:
  dictionary: 092wb               # ç¿»è¯‘å™¨å°†è°ƒå–æ­¤å­—å…¸æ–‡ä»¶
  db_class: tabledb               # è®¾å®šç”¨æˆ·è¯å…¸ç±»å‹ï¼Œå¯è®¾tabledbã€”æ–‡æœ¬ã€•æˆ–userdbã€”äºŒè¿›åˆ¶ã€•
  initial_quality: 100000         # ç¿»è¯‘å™¨ä¼˜å…ˆçº§
  enable_charset_filter: false    # è‡ªå¸¦å­—ç¬¦é›†è¿‡æ»¤ - å…³
  enable_sentence: false          # å¥å­è¾“å…¥æ¨¡å¼ - å…³
  enable_encoder: false           # ç¼–ç æç¤º - å…³
  encode_commit_history: false    # è‡ªåŠ¨é€ è¯ - å…³
  max_phrase_length: 4            # æœ€å¤§è‡ªåŠ¨æˆè¯è¯é•¿ã€”ä»…table_translatoræœ‰æ•ˆã€•
  enable_completion: false        # æå‰æ˜¾ç¤ºå°šæœªè¼¸å…¥å®Œæ•´ç çš„å­—ã€”ä»…table_translatoræœ‰æ•ˆã€•
  enable_user_dict: false         # æ˜¯å¦å¼€å¯ç”¨æˆ·è¯å…¸ï¼ˆç”¨æˆ·è¯å…¸è®°å½•åŠ¨æ€å­—è¯é¢‘ï¼Œç”¨æˆ·è¯ï¼‰- å…³
  disable_user_dict_for_patterns: # ç¦æ­¢æŸäº›ç¼–ç å½•å…¥ç”¨æˆ·è¯å…¸
    - "^z.*$"

reverse_lookup:
  dictionary: py           # åæŸ¥ä½¿ç”¨çš„æ‹¼éŸ³è¯åº“
  prefix: "z"              # åæŸ¥å‰ç¼€ï¼Œä»¥å®ƒä¸ºèµ·ç‚¹
  suffix: "'"              # åæŸ¥åç¼€ï¼Œä»¥å®ƒä¸ºç»“ç‚¹
  tips: [åæŸ¥]              # åæŸ¥æ—¶çš„æç¤ºä¿¡æ¯
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

#  OpenCC æ”¯æŒã€‚
#  githubåœ°å€ï¼šhttps://github.com/BYVoid/OpenCC
traditionalize:
  opencc_config: s2t.json      # ç®€ -> ç¹
  option_name: zh_trad         # ç¹ç®€å¼€å…³
  #  opencc_config: s2hk.json   # ç¹ -> é¦™æ¸¯
  #  opencc_config: t2s.json   # ç¹ -> ç®€
  #  opencc_config: t2tw.json  # ç¹ -> å°æ¹¾
  #  opencc_config: t2hk.json  # ç¹ -> é¦™æ¸¯
  #  opencc_config: s2tw.json  # ç°¡ -> è‡ºç£æ¨™æº–
  #  opencc_config: s2twp.json # ç°¡ -> è‡ºç£ç‰‡èª
  tags: [ abc, number, gregorian_to_lunar ]  # é™åˆ¶åœ¨å¯¹åº” tagï¼Œä¸å¯¹å…¶ä»–å¦‚åæŸ¥çš„å†…å®¹åšç®€ç¹è½¬æ¢
 
lua_reverse_db:               # æ‹†åˆ†æç¤º
  spelling: wb_spelling
  code: wb_spelling

# Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
date_translator:
  date: date       # æ—¥æœŸï¼š 2022-11-29
  time: time       # æ—¶é—´ï¼š 18:13
  week: week       # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
#  datetime: dt   # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
#  timestamp: ts  # æ—¶é—´æˆ³ï¼š 1669716794

# Lua é…ç½®ï¼šå†œå†çš„è§¦å‘å…³é”®å­—
lunar: nl  # å†œå†ï¼š äºŒã€‡äºŒä¸‰å¹´å†¬æœˆäºŒå ç™¸å¯å¹´ï¼ˆå…”ï¼‰å†¬æœˆäºŒå



# Emoji
# æ¥æºï¼šhttps://github.com/rime/rime-emoji
emoji:
  option_name: emoji
  opencc_config: emoji.json
  inherit_comment: false  # åœ¨ corrector.lua åŠåæŸ¥ä¸­ï¼Œemoji è¿”å›ç©ºæ³¨é‡Š


repeat_last_input:    # é‡å¤æœ€åä¸€æ¬¡ä¸Šå±
  input: z
  size: 1
  initial_quality: 1

punctuator:
  import_preset: symbols

recognizer:
  import_preset: default

key_binder:
  import_preset: default


